# fzf (Fuzzy Finder) 사용법 안내

fzf는 명령줄(command-line)에서 사용하는 매우 강력한 대화형 필터 도구입니다. 파일, 명령어 히스토리, 프로세스 등 목록 형태의 입력을 받아 퍼지 검색(fuzzy search) 알고리즘을 통해 원하는 항목을 빠르고 쉽게 찾을 수 있게 도와줍니다. 정확한 단어를 입력하지 않아도 비슷한 패턴으로 검색할 수 있어 생산성을 크게 향상시킵니다.

## 1. 기본 사용법

터미널에 `fzf`를 입력하고 실행하면, 기본적으로 현재 디렉토리와 하위 디렉토리의 모든 파일 및 폴더 목록(숨김 파일 제외)을 보여주는 전체 화면 인터페이스가 나타납니다.

```bash
fzf
```

- **검색**: 원하는 단어를 입력하면 실시간으로 목록이 필터링됩니다.
- **탐색**: 위/아래 화살표 키(`↑`/`↓`) 또는 `Ctrl-K`/`Ctrl-J`로 목록을 이동합니다.
- **선택**: `Enter` 키를 누르면 선택한 항목이 표준 출력(stdout)으로 출력되고 fzf가 종료됩니다.
- **취소**: `Ctrl-C` 또는 `Esc` 키를 누르면 아무것도 선택하지 않고 종료합니다.

## 2. 다른 명령어와 조합하기

fzf의 진정한 강력함은 다른 명령어와 조합할 때 나타납니다. 파이프(`|`)나 명령어 치환(`$()`)을 활용해 보세요.

### 파이프(`|`) 사용

다른 명령어의 출력 결과를 fzf로 넘겨 대화형으로 필터링할 수 있습니다.

```bash
# ls -l 결과를 fzf로 필터링
ls -l | fzf

# 현재 실행 중인 프로세스 목록에서 선택
ps -ef | fzf
```

### 명령어 치환(`$()`) 사용

fzf로 선택한 항목을 다른 명령어의 인자(argument)로 사용할 수 있습니다.

```bash
# fzf로 파일을 선택하여 vim으로 열기
vim $(fzf)

# fzf로 디렉토리를 선택하여 이동
cd $(find * -type d | fzf)
```

## 3. 유용한 단축키 (Keybindings)

fzf는 셸(Bash, Zsh, Fish 등)과 통합하여 매우 유용한 단축키를 제공합니다. (설치 스크립트를 통해 설정이 필요할 수 있습니다.)

- **`Ctrl-T` (파일/디렉토리 검색)**
  - 명령어 입력 중 `Ctrl-T`를 누르면 fzf 창이 열리고, 여기서 파일이나 디렉토리를 선택하면 해당 경로가 명령어에 자동으로 입력됩니다.
  - `Tab` 키를 이용해 여러 항목을 선택할 수 있습니다.
  ```bash
  # git add 입력 후 Ctrl-T로 파일 선택
  git add 
  ```

- **`Ctrl-R` (명령어 히스토리 검색)**
  - 이전에 사용했던 명령어를 퍼지 검색으로 쉽게 찾아서 다시 사용할 수 있습니다.

- **`Alt-C` (디렉토리 변경)**
  - fzf를 통해 하위 디렉토리를 빠르게 검색하고 선택한 디렉토리로 즉시 이동합니다.

## 4. 고급 활용법

### 다중 선택 (Multi-selection)

`--multi` 또는 `-m` 옵션을 사용하면 여러 항목을 선택할 수 있습니다. fzf 창에서 `Tab` 키로 원하는 항목들을 선택하고 `Enter`를 누르면 선택된 모든 항목이 출력됩니다.

```bash
# fzf로 여러 파일을 선택하여 한 번에 삭제
rm $(fzf --multi)
```

### 미리보기 (Preview)

`--preview` 옵션을 사용하면 선택한 항목의 내용을 미리보기 창에서 확인할 수 있습니다. 파일 내용, git 커밋 상세 정보 등을 볼 때 매우 유용합니다. `{}`는 선택된 항목을 가리키는 플레이스홀더입니다.

```bash
# 파일 내용 미리보기
fzf --preview 'cat {}'

# git 커밋 로그와 함께 커밋 내용 미리보기
git log --oneline | fzf --preview 'git show {1}'
```
*`{1}`은 선택된 라인의 첫 번째 열(여기서는 커밋 해시)을 의미합니다.*

### 기본 동작 설정

환경 변수를 설정하여 fzf의 기본 동작을 바꿀 수 있습니다.

- **`FZF_DEFAULT_COMMAND`**: `fzf` 실행 시 기본적으로 목록을 가져올 명령어를 지정합니다. `find` 대신 더 빠른 `fd`를 사용할 수 있습니다.
  ```bash
  export FZF_DEFAULT_COMMAND='fd . --hidden --exclude ".git"'
  ```

- **`FZF_DEFAULT_OPTS`**: fzf에 항상 적용할 기본 옵션을 지정합니다.
  ```bash
  # fzf 창의 높이를 40%로 설정하고, 다중 선택과 미리보기를 기본으로 활성화
  export FZF_DEFAULT_OPTS='--height 40% --multi --preview "cat {}"'
  ```
